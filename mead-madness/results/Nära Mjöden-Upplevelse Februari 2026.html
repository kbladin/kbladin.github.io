<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nära Mjöden-Upplevelse Februari 2026</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap');

  :root {
    --bg:        #1a1410;
    --bg2:       #231c15;
    --bg3:       #2d2318;
    --card:      #2a1f14;
    --border:    #5c3d1e;
    --amber:     #c8892a;
    --amber-lt:  #e8b054;
    --amber-dim: #7a5018;
    --cream:     #f0e6d0;
    --muted:     #a08870;
    --red:       #c04838;
    --green:     #5a8c5a;
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  html, body {
    height: 100%;
    background: var(--bg);
    color: var(--cream);
    font-family: 'Crimson Pro', Georgia, serif;
    font-size: 18px;
    overflow: hidden;
  }

  /* ── SLIDE CONTAINER ── */
  .slides-viewport {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    position: relative;
  }

  .slides-track {
    display: flex;
    height: 100%;
    transition: transform 0.5s cubic-bezier(0.77,0,0.175,1);
  }

  .slide {
    min-width: 100vw;
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    padding-bottom: 3.2rem;  /* keep content above the nav bar */
  }

  /* ── TITLE SLIDE ── */
  .slide-title {
    justify-content: center;
    align-items: center;
    background: radial-gradient(ellipse 80% 60% at 50% 40%, #3d2508 0%, transparent 70%), var(--bg);
  }

  .title-inner { text-align: center; padding: 2rem; z-index: 1; }

  .title-inner h1 {
    font-family: 'IM Fell English', serif;
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    color: var(--amber-lt);
    letter-spacing: 0.02em;
    text-shadow: 0 0 40px rgba(200,137,42,0.4);
    line-height: 1.15;
  }

  .title-inner .subtitle {
    font-size: 1.2rem;
    color: var(--muted);
    margin-top: 1rem;
    font-style: italic;
    letter-spacing: 0.06em;
  }

  .divider {
    width: 200px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--amber-dim), transparent);
    margin: 2rem auto;
  }

  .tally {
    display: flex;
    gap: 3rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 1rem;
  }

  .tally-item { display: flex; flex-direction: column; align-items: center; }
  .tally-item .num {
    font-family: 'IM Fell English', serif;
    font-size: 2.8rem;
    color: var(--amber);
    line-height: 1;
  }
  .tally-item .lbl {
    font-size: 0.8rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-top: 0.3rem;
  }

  /* ── SLIDE HEADER ── */
  .slide-header {
    padding: 0.9rem 2rem;
    border-bottom: 1px solid var(--border);
    background: var(--bg2);
    display: flex;
    align-items: baseline;
    gap: 1rem;
    flex-shrink: 0;
  }

  .slide-number {
    font-family: 'IM Fell English', serif;
    font-size: 2.8rem;
    color: var(--amber-dim);
    line-height: 1;
    opacity: 0.55;
  }

  .slide-name {
    font-family: 'IM Fell English', serif;
    font-size: clamp(1.4rem, 2.5vw, 2.2rem);
    color: var(--amber-lt);
    text-shadow: 0 0 20px rgba(200,137,42,0.25);
  }

  /* ── MEAD SLIDE BODY ── */
  .mead-body {
    flex: 1;
    display: grid;
    grid-template-columns: 1fr 340px;
    min-height: 0;
  }

  .chart-col {
    display: flex;
    flex-direction: column;
    min-height: 0;
    overflow: hidden;
  }

  .chart-wrap {
    flex: 1;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 0;
  }

  .chart-wrap canvas { max-height: 100%; max-width: 100%; }

  .overall-bar {
    padding: 0.6rem 1.5rem;
    border-top: 1px solid var(--border);
    background: var(--bg3);
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-shrink: 0;
  }

  .overall-label {
    font-size: 0.8rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    white-space: nowrap;
  }

  .stars {
    display: flex;
    gap: 3px;
    align-items: center;
  }

  .star-wrap {
    position: relative;
    width: 1.3rem;
    height: 1.3rem;
    flex-shrink: 0;
  }

  .star-wrap svg {
    width: 100%;
    height: 100%;
  }

  .overall-value {
    font-family: 'IM Fell English', serif;
    font-size: 1.4rem;
    color: var(--amber-lt);
    min-width: 2.5rem;
    text-align: right;
  }

  /* ── SIDE PANEL ── */
  .side-panel {
    border-left: 1px solid var(--border);
    background: var(--bg2);
    overflow-y: auto;
    padding: 1.2rem 1.4rem;
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
  }

  .side-panel::-webkit-scrollbar { width: 4px; }
  .side-panel::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

  .section-heading {
    font-family: 'IM Fell English', serif;
    font-size: 0.95rem;
    color: var(--amber);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .section-heading::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }

  .tag-list { display: flex; flex-wrap: wrap; gap: 0.35rem; }

  .tag {
    font-size: 0.82rem;
    padding: 0.18em 0.6em;
    border-radius: 3px;
    font-style: italic;
  }

  .tag-note {
    background: rgba(200,137,42,0.15);
    border: 1px solid var(--amber-dim);
    color: var(--amber-lt);
  }

  .tag-off {
    background: rgba(192,72,56,0.15);
    border: 1px solid var(--red);
    color: #e88070;
  }

  .tag .cnt { font-style: normal; font-weight: 600; opacity: 0.65; font-size: 0.75em; margin-left: 0.2em; }

  .other-list { list-style: none; display: flex; flex-direction: column; gap: 0.4rem; }
  .other-list li {
    font-size: 0.88rem;
    color: var(--muted);
    font-style: italic;
    padding-left: 1em;
    position: relative;
  }
  .other-list li::before { content: '–'; position: absolute; left: 0; color: var(--border); }

  /* ── CATEGORY SLIDE ── */
  .cat-body {
    flex: 1;
    padding: 1.2rem 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 0;
  }

  .cat-body canvas { max-height: 100%; max-width: 100%; }

  /* ── NAVIGATION ── */
  nav {
    position: fixed;
    bottom: 1.1rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 0.4rem;
    background: rgba(15,10,5,0.92);
    border: 1px solid var(--border);
    border-radius: 50px;
    padding: 0.45rem 0.9rem;
    z-index: 200;
    backdrop-filter: blur(8px);
  }

  nav button {
    background: none;
    border: none;
    color: var(--amber);
    font-size: 1.1rem;
    cursor: pointer;
    padding: 0.2rem 0.55rem;
    border-radius: 50px;
    transition: background 0.15s, color 0.15s;
    line-height: 1;
  }

  nav button:hover { background: var(--amber-dim); color: var(--cream); }
  nav button:disabled { opacity: 0.25; cursor: default; }
  nav button:disabled:hover { background: none; color: var(--amber); }

  .page-counter {
    font-size: 0.8rem;
    color: var(--muted);
    letter-spacing: 0.05em;
    min-width: 70px;
    text-align: center;
    font-family: 'Crimson Pro', serif;
  }

  .dots {
    display: flex;
    gap: 5px;
    align-items: center;
    max-width: 240px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--border);
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
    flex-shrink: 0;
  }

  .dot.active { background: var(--amber); transform: scale(1.4); }
  .dot:hover { background: var(--amber-lt); }

  /* ── MOBILE RESPONSIVE ── */
  @media (max-width: 700px) {
    html, body { font-size: 15px; }

    .slide {
      padding-bottom: 4rem;
    }

    .slide-header {
      padding: 0.6rem 1rem;
      gap: 0.5rem;
    }

    .slide-number { font-size: 1.8rem; }
    .slide-name   { font-size: 1.2rem; }

    /* Stack mead body vertically on mobile */
    .mead-body {
      grid-template-columns: 1fr;
      grid-template-rows: auto auto;
      overflow-y: auto;
    }

    .chart-col {
      grid-row: 1;
    }

    .chart-wrap {
      padding: 0.6rem 0.8rem;
      min-height: 200px;
    }

    .side-panel {
      grid-column: 1;
      grid-row: 2;
      border-left: none;
      border-top: 1px solid var(--border);
      padding: 0.8rem 1rem;
      max-height: none;
      overflow-y: visible;
    }

    .overall-bar {
      padding: 0.5rem 0.8rem;
      gap: 0.6rem;
    }

    .star-wrap { width: 1rem; height: 1rem; }

    /* Category slides: allow horizontal scroll for many labels */
    .cat-body {
      padding: 0.6rem 0.5rem;
      overflow-x: auto;
    }

    .cat-body canvas {
      min-width: 500px;
    }

    /* Title slide */
    .title-inner h1 { font-size: clamp(1.8rem, 8vw, 3rem); }

    /* Nav */
    nav {
      padding: 0.4rem 0.6rem;
      gap: 0.3rem;
    }

    .dots { max-width: 160px; }
    .page-counter { min-width: 50px; font-size: 0.75rem; }
  }
</style>
</head>
<body>

<div class="slides-viewport">
  <div class="slides-track" id="track">
    <div class="slide slide-title">
      <div class="title-inner">
        <h1>Nära Mjöden-Upplevelse Februari 2026</h1>
        <div class="divider"></div>
        <div class="tally">
          <div class="tally-item"><span class="num">2</span><span class="lbl">Mjöder</span></div>
          <div class="tally-item"><span class="num">3</span><span class="lbl">Svar</span></div>
        </div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-header">
        <span class="slide-number">1</span>
        <span class="slide-name">(1) Nyfikenhet är en Brygd</span>
      </div>
      <div class="mead-body">
        <div class="chart-col">
          <div class="chart-wrap"><canvas id="chart-1"></canvas></div>
                  <div class="overall-bar">
          <span class="overall-label">Helhetsbetyg</span>
          <div class="stars"><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-0"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-0)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-1"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-1)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-2"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-2)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-3"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-3)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-4"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-4)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-5"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-5)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-6"><rect x="0" y="0" width="17.50" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-6)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-7"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-7)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-8"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-8)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-1-9"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-1-9)"/></svg></div></div>
          <span class="overall-value">6.5</span>
        </div>
        </div>
        <div class="side-panel">
          <div><div class="section-heading">Smaknoter</div><div class="tag-list"><span class="tag tag-note">Gott<span class="cnt">×1</span></span><span class="tag tag-note">skum<span class="cnt">×1</span></span></div></div>
          <div><div class="section-heading">Bismaker</div><div class="tag-list"><span class="tag tag-off">Alkoholstark;Kemisk<span class="cnt">×1</span></span></div></div>
          <div><div class="section-heading">Övrigt</div><ul class="other-list"><li>hej hopp. Filip här hejsan mamma och pappa vad äter ni jag uuundrar vad ni äter</li><li>mycket konstigt</li></ul></div>
        </div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-header">
        <span class="slide-number">2</span>
        <span class="slide-name">(2) Nektar Nebulos</span>
      </div>
      <div class="mead-body">
        <div class="chart-col">
          <div class="chart-wrap"><canvas id="chart-2"></canvas></div>
                  <div class="overall-bar">
          <span class="overall-label">Helhetsbetyg</span>
          <div class="stars"><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-0"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-0)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-1"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-1)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-2"><rect x="0" y="0" width="20.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-2)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-3"><rect x="0" y="0" width="15.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-3)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-4"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-4)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-5"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-5)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-6"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-6)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-7"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-7)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-8"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-8)"/></svg></div><div class="star-wrap"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="sc-2-9"><rect x="0" y="0" width="0.00" height="20"/></clipPath></defs><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#3a2e1e"/><path d="M10 2 L12.35 7.6 H18.5 L13.7 11.3 L15.55 17 L10 13.4 L4.45 17 L6.3 11.3 L1.5 7.6 H7.65 Z" fill="#e8b054" clip-path="url(#sc-2-9)"/></svg></div></div>
          <span class="overall-value">4.0</span>
        </div>
        </div>
        <div class="side-panel">
          <div><div class="section-heading">Smaknoter</div><div class="tag-list"><span class="tag tag-note">konstig<span class="cnt">×1</span></span></div></div>
          
          <div><div class="section-heading">Övrigt</div><ul class="other-list"><li>ok</li></ul></div>
        </div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-header">
        <span class="slide-name">Sötma</span>
      </div>
      <div class="cat-body"><canvas id="chart-3"></canvas></div>
    </div>
    <div class="slide">
      <div class="slide-header">
        <span class="slide-name">Syrlighet</span>
      </div>
      <div class="cat-body"><canvas id="chart-4"></canvas></div>
    </div>
    <div class="slide">
      <div class="slide-header">
        <span class="slide-name">Fyllighet</span>
      </div>
      <div class="cat-body"><canvas id="chart-5"></canvas></div>
    </div>
    <div class="slide">
      <div class="slide-header">
        <span class="slide-name">Strävhet</span>
      </div>
      <div class="cat-body"><canvas id="chart-6"></canvas></div>
    </div>
    <div class="slide">
      <div class="slide-header">
        <span class="slide-name">Helhetsbetyg</span>
      </div>
      <div class="cat-body"><canvas id="chart-7"></canvas></div>
    </div>
  </div>
</div>

<nav>
  <button id="btn-prev" onclick="navigate(-1)">&#8592;</button>
  <div class="dots" id="dots"></div>
  <span class="page-counter" id="counter"></span>
  <button id="btn-next" onclick="navigate(1)">&#8594;</button>
</nav>

<script>
const CHARTS_DATA = {"0": null, "1": {"type": "bar", "data": {"labels": ["Sötma", "Syrlighet", "Fyllighet", "Strävhet"], "datasets": [{"label": "Värde", "data": [4.0, 3.0, 5.0, 7.0], "backgroundColor": ["#c8892acc", "#5a8c9ecc", "#8c7a5acc", "#9e5a5acc"], "borderColor": ["#c8892a", "#5a8c9e", "#8c7a5a", "#9e5a5a"], "borderWidth": 2, "errorBars": {"0": {"plus": 1.41, "minus": 1.41}, "1": {"plus": 0.0, "minus": 0.0}, "2": {"plus": 1.41, "minus": 1.41}, "3": {"plus": 0.0, "minus": 0.0}}}]}, "options": {"responsive": true, "maintainAspectRatio": true, "plugins": {"legend": {"display": false}}, "scales": {"y": {"min": 1, "max": 9, "title": {"display": true, "text": "Värde (1–9)", "color": "#a08870"}}, "x": {"ticks": {"color": "#a08870"}}}, "animation": {"duration": 600}}}, "2": {"type": "bar", "data": {"labels": ["Sötma", "Syrlighet", "Fyllighet", "Strävhet"], "datasets": [{"label": "Värde", "data": [3.0, 5.0, 6.0, 7.0], "backgroundColor": ["#c8892acc", "#5a8c9ecc", "#8c7a5acc", "#9e5a5acc"], "borderColor": ["#c8892a", "#5a8c9e", "#8c7a5a", "#9e5a5a"], "borderWidth": 2, "errorBars": {"0": {"plus": 0.0, "minus": 0.0}, "1": {"plus": 0.0, "minus": 0.0}, "2": {"plus": 0.0, "minus": 0.0}, "3": {"plus": 0.0, "minus": 0.0}}}]}, "options": {"responsive": true, "maintainAspectRatio": true, "plugins": {"legend": {"display": false}}, "scales": {"y": {"min": 1, "max": 9, "title": {"display": true, "text": "Värde (1–9)", "color": "#a08870"}}, "x": {"ticks": {"color": "#a08870"}}}, "animation": {"duration": 600}}}, "3": {"type": "bar", "data": {"labels": ["(1) Nyfikenhet är en Brygd", "(2) Nektar Nebulos"], "datasets": [{"label": "Sötma", "data": [4.0, 3.0], "backgroundColor": ["#c8892abb", "#5a8c9ebb"], "borderColor": ["#c8892a", "#5a8c9e"], "borderWidth": 2, "pointRadius": 7, "pointHoverRadius": 9, "errorBars": {"0": {"plus": 1.41, "minus": 1.41}, "1": {"plus": 0.0, "minus": 0.0}}}]}, "options": {"responsive": true, "maintainAspectRatio": true, "plugins": {"legend": {"display": false}}, "scales": {"y": {"min": 1, "max": 9, "title": {"display": true, "text": "Värde (1–9)", "color": "#a08870"}}, "x": {"ticks": {"maxRotation": 20, "autoSkip": false}}}, "animation": {"duration": 600}}}, "4": {"type": "bar", "data": {"labels": ["(1) Nyfikenhet är en Brygd", "(2) Nektar Nebulos"], "datasets": [{"label": "Syrlighet", "data": [3.0, 5.0], "backgroundColor": ["#c8892abb", "#5a8c9ebb"], "borderColor": ["#c8892a", "#5a8c9e"], "borderWidth": 2, "pointRadius": 7, "pointHoverRadius": 9, "errorBars": {"0": {"plus": 0.0, "minus": 0.0}, "1": {"plus": 0.0, "minus": 0.0}}}]}, "options": {"responsive": true, "maintainAspectRatio": true, "plugins": {"legend": {"display": false}}, "scales": {"y": {"min": 1, "max": 9, "title": {"display": true, "text": "Värde (1–9)", "color": "#a08870"}}, "x": {"ticks": {"maxRotation": 20, "autoSkip": false}}}, "animation": {"duration": 600}}}, "5": {"type": "bar", "data": {"labels": ["(1) Nyfikenhet är en Brygd", "(2) Nektar Nebulos"], "datasets": [{"label": "Fyllighet", "data": [5.0, 6.0], "backgroundColor": ["#c8892abb", "#5a8c9ebb"], "borderColor": ["#c8892a", "#5a8c9e"], "borderWidth": 2, "pointRadius": 7, "pointHoverRadius": 9, "errorBars": {"0": {"plus": 1.41, "minus": 1.41}, "1": {"plus": 0.0, "minus": 0.0}}}]}, "options": {"responsive": true, "maintainAspectRatio": true, "plugins": {"legend": {"display": false}}, "scales": {"y": {"min": 1, "max": 9, "title": {"display": true, "text": "Värde (1–9)", "color": "#a08870"}}, "x": {"ticks": {"maxRotation": 20, "autoSkip": false}}}, "animation": {"duration": 600}}}, "6": {"type": "bar", "data": {"labels": ["(1) Nyfikenhet är en Brygd", "(2) Nektar Nebulos"], "datasets": [{"label": "Strävhet", "data": [7.0, 7.0], "backgroundColor": ["#c8892abb", "#5a8c9ebb"], "borderColor": ["#c8892a", "#5a8c9e"], "borderWidth": 2, "pointRadius": 7, "pointHoverRadius": 9, "errorBars": {"0": {"plus": 0.0, "minus": 0.0}, "1": {"plus": 0.0, "minus": 0.0}}}]}, "options": {"responsive": true, "maintainAspectRatio": true, "plugins": {"legend": {"display": false}}, "scales": {"y": {"min": 1, "max": 9, "title": {"display": true, "text": "Värde (1–9)", "color": "#a08870"}}, "x": {"ticks": {"maxRotation": 20, "autoSkip": false}}}, "animation": {"duration": 600}}}, "7": {"type": "bar", "data": {"labels": ["(1) Nyfikenhet är en Brygd", "(2) Nektar Nebulos"], "datasets": [{"label": "Helhetsbetyg", "data": [6.5, 4.0], "backgroundColor": ["#c8892abb", "#5a8c9ebb"], "borderColor": ["#c8892a", "#5a8c9e"], "borderWidth": 2, "pointRadius": 7, "pointHoverRadius": 9, "errorBars": {"0": {"plus": 0.71, "minus": 0.71}, "1": {"plus": 0.0, "minus": 0.0}}}]}, "options": {"responsive": true, "maintainAspectRatio": true, "plugins": {"legend": {"display": false}}, "scales": {"y": {"min": 1, "max": 9, "title": {"display": true, "text": "Helhetsbetyg (1–9)", "color": "#a08870"}}, "x": {"ticks": {"maxRotation": 20, "autoSkip": false}}}, "animation": {"duration": 600}}}};

let current = 0;
const total = document.querySelectorAll('.slide').length;
const track = document.getElementById('track');
const dotsEl = document.getElementById('dots');
const counter = document.getElementById('counter');
const btnPrev = document.getElementById('btn-prev');
const btnNext = document.getElementById('btn-next');

// Build dots
for (let i = 0; i < total; i++) {
  const d = document.createElement('div');
  d.className = 'dot' + (i === 0 ? ' active' : '');
  d.onclick = () => goTo(i);
  dotsEl.appendChild(d);
}

function updateNav() {
  track.style.transform = `translateX(-${current * 100}vw)`;
  counter.textContent = (current + 1) + ' / ' + total;
  btnPrev.disabled = current === 0;
  btnNext.disabled = current === total - 1;
  document.querySelectorAll('.dot').forEach((d, i) => d.classList.toggle('active', i === current));
}

function goTo(n) {
  current = Math.max(0, Math.min(total - 1, n));
  updateNav();
  initChart(current);
}

function navigate(dir) { goTo(current + dir); }

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowRight' || e.key === 'ArrowDown') navigate(1);
  if (e.key === 'ArrowLeft'  || e.key === 'ArrowUp')   navigate(-1);
});

// Touch / swipe
let touchX = null;
document.addEventListener('touchstart', e => { touchX = e.touches[0].clientX; });
document.addEventListener('touchend',   e => {
  if (touchX === null) return;
  const dx = e.changedTouches[0].clientX - touchX;
  if (Math.abs(dx) > 40) navigate(dx < 0 ? 1 : -1);
  touchX = null;
});

// Chart.js initialisation (lazy – only render when slide is first visited)
const rendered = new Set();

const CHART_DEFAULTS = {
  color: '#f0e6d0',
  plugins: { legend: { labels: { color: '#a08870', font: { family: 'Crimson Pro, Georgia, serif', size: 13 } } } },
  scales: {
    x: { ticks: { color: '#a08870', font: { family: 'Crimson Pro, Georgia, serif', size: 12 } }, grid: { color: 'rgba(92,61,30,0.4)' }, border: { color: '#5c3d1e' } },
    y: { ticks: { color: '#a08870', font: { family: 'Crimson Pro, Georgia, serif', size: 12 } }, grid: { color: 'rgba(92,61,30,0.4)' }, border: { color: '#5c3d1e' }, min: 1, max: 9 }
  }
};

function deepMerge(target, source) {
  for (const k of Object.keys(source)) {
    if (source[k] && typeof source[k] === 'object' && !Array.isArray(source[k])) {
      target[k] = target[k] || {};
      deepMerge(target[k], source[k]);
    } else {
      target[k] = source[k];
    }
  }
  return target;
}

function initChart(idx) {
  if (rendered.has(idx)) return;
  const data = CHARTS_DATA[idx];
  if (!data) return;
  rendered.add(idx);

  const canvas = document.querySelector(`.slide:nth-child(${idx + 1}) canvas`);
  if (!canvas) return;

  const opts = deepMerge(JSON.parse(JSON.stringify(CHART_DEFAULTS)), data.options || {});
  new Chart(canvas, { type: data.type, data: data.data, options: opts });
}

// Init first slide
updateNav();
initChart(0);
</script>
</body>
</html>
